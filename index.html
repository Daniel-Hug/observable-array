<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Observable Array</title>
	</head>
	<body>

		<ul></ul>

<!-- observable-array depends on subscribable.js -->
<script src="bower_components/subscribable.js/subscribable.js"></script>
<script src="observable-array.js"></script>
<script src="dom-observer.js"></script>

<h3>Create an observable array</h3>
<script style="display: block; white-space: pre;">var nums = new ObservableArray([1,2,3,4,5,6,7,8,9,10,11]);</script>

<h3>Get notified when it changes</h3>
<script style="display: block; white-space: pre;">nums.on('push', function() {
	console.log('this: ', this, '\narguments: ', arguments);
});</script>

<h3>Use all the native Array methods to make changes, loop, etc.</h3>
<script style="display: block; white-space: pre;">// remove last 4
nums.splice(-4);

// add 2
nums.push(8, 9);

// try this in the console!</script>

<h3>Add a DOM observer which will get live updates</h3>
<script style="display: block; white-space: pre;">var ul = document.querySelector('ul');
var domObserver = nums.addDomObserver(ul, function(num) {
	var li = document.createElement('li');
	li.textContent = 'number: ' + num;
	return li;
});</script>

<h3>Stop observing when you're done</h3>
<script style="display: block; white-space: pre;">// domObserver.stop();</script>
	</body>
</html>